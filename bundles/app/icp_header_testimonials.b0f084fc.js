"use strict";(self.webpackChunkscnsoft_website=self.webpackChunkscnsoft_website||[]).push([[4254],{70491:(t,i,e)=>{var s=e(6599),n=e(4002),a=e.n(n),l=e(67469),r=e(46914);function o(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}scheduler.postTask((()=>{var t,i;return Stimulus.register("icp-h-testimonials",(i=t=class extends s.Qr{constructor(){super(...arguments),o(this,"PC_COLUMN_GAP_SIZE",30),o(this,"TRANSLATE_DISTANCE_PX",1e4),o(this,"OFFSCREEN_OFFSET",100),o(this,"SPEED_PX_PER_SECOND",35),o(this,"PX_PERIOD_CHECK",100),o(this,"recycleIntervalId",null),o(this,"scrollIntervalId",null),o(this,"canStop",!0),o(this,"isPopupOpen",!1)}connect(){this.initMouseenterListener(),this.initMouseleaveListener(),this.initResizeListener(),this.initVisibilityChangeListener()}initMouseenterListener(){const t=()=>{this.testimonialsWrapperTarget.addEventListener("mouseenter",(()=>{this.canStop&&(this.isRunningValue=!1)}))};if(isMobile())return void t();const i=e=>{const s=document.elementFromPoint(e.clientX,e.clientY);this.canStop=!this.testimonialsWrapperTarget.contains(s),document.removeEventListener("mousemove",i),t()};document.addEventListener("mousemove",i,{passive:!0})}initMouseleaveListener(){this.testimonialsWrapperTarget.addEventListener("mouseleave",(()=>{this.isPopupOpen||(this.isRunningValue=!0,this.canStop=!0)}))}initResizeListener(){(0,r.Z)((()=>{window.matchMedia("(max-width: 1023px)").matches?this.resetScrollAnimation():this.isRunningValue?this.startScrollAnimation():this.isRunningValue=!0}))}initVisibilityChangeListener(){document.addEventListener("visibilitychange",(()=>{const t=window.matchMedia("(max-width: 1023px)").matches;document.hidden||t||(this.resetScrollAnimation(),this.startScrollAnimation())}))}handleClosePopup(){window.matchMedia("(max-width: 1023px)").matches||(this.isRunningValue=!0),this.isPopupOpen=!1}handleClickReadStoryBtn(t){t.preventDefault();const i=a()(t.currentTarget),e=i.data("scan"),s=i.data("title");if(!e)return;const n=a()(".js-read-success-story-testimonial-modal"),r=a()("<img>").attr("src",e);n.find(".modal-content").html(r),n.find(".modal-title").text(s);const o=new l.Z(n.first());this.isPopupOpen=!0,this.isRunningValue=!1,n.on("closeModal",this.handleClosePopup.bind(this)),o.open()}isRunningValueChanged(){window.matchMedia("(max-width: 1023px)").matches?this.resetScrollAnimation():this.isRunningValue?this.startScrollAnimation():this.stopScrollAnimation()}startScrollAnimation(){this.stopScrollAnimation(),this.runScrollAnimation();const t=this.TRANSLATE_DISTANCE_PX/this.SPEED_PX_PER_SECOND*1e3;this.recycleIntervalId=setInterval((()=>{this.stopScrollAnimation(!1);const t=[...this.testimonialsColumnTargets].map((t=>parseInt(t.style.paddingTop)||0)),i=Math.min(...t),e=this.getCurrentTranslate()+i;this.testimonialsTarget.style.transform=`translateY(${e}px)`,this.testimonialsColumnTargets.forEach((t=>{const e=(parseInt(t.style.paddingTop)||0)-i;t.style.paddingTop=`${e}px`})),this.runScrollAnimation()}),t)}stopScrollAnimation(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&null!==this.recycleIntervalId&&clearInterval(this.scrollIntervalId),null!==this.scrollIntervalId&&clearInterval(this.scrollIntervalId),this.testimonialsTarget.style.transitionDuration="0s",this.testimonialsTarget.style.transform=`translateY(${this.getCurrentTranslate()}px)`}resetScrollAnimation(){null!==this.recycleIntervalId&&clearInterval(this.scrollIntervalId),null!==this.scrollIntervalId&&clearInterval(this.scrollIntervalId),this.testimonialsTarget.style.transitionDuration="",this.testimonialsTarget.style.transform="",this.testimonialsColumnTargets.forEach((t=>t.style.paddingTop=""))}runScrollAnimation(){const t=this.getCurrentTranslate()-this.TRANSLATE_DISTANCE_PX,i=this.TRANSLATE_DISTANCE_PX/this.SPEED_PX_PER_SECOND,e=this.PX_PERIOD_CHECK/this.SPEED_PX_PER_SECOND*1e3;this.testimonialsTarget.style.transitionDuration=`${i}s`,this.testimonialsTarget.style.transform=`translateY(${t}px)`,this.scrollIntervalId=setInterval((()=>this.updateScrollAnimationTestimonialItems()),e)}updateScrollAnimationTestimonialItems(){const t=this.testimonialsWrapperTarget.getBoundingClientRect().top;this.testimonialTargets.forEach((i=>{const e=i.closest(".icp-h-t-testimonial-column"),s=parseInt(e.style.paddingTop)||0,n=i.getBoundingClientRect().top,a=i.clientHeight;n+a+this.OFFSCREEN_OFFSET-t<0&&(e.append(i),e.style.paddingTop=s+this.PC_COLUMN_GAP_SIZE+a+"px")}))}getCurrentTranslate(){const t=this.testimonialsWrapperTarget.getBoundingClientRect().top;return this.testimonialsTarget.getBoundingClientRect().top-t}},o(t,"targets",["testimonialsWrapper","testimonials","testimonialsColumn","testimonial"]),o(t,"values",{isRunning:Boolean}),i))}),{priority:"user-blocking"})}},t=>{t.O(0,[3913,3279,6599,6914,7469],(()=>{return i=70491,t(t.s=i);var i}));t.O()}]);